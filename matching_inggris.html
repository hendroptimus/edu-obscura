<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Matching Quiz</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f4f8fc;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    .quiz-container {
      background: #fff;
      padding: 30px;
      border-radius: 16px;
      box-shadow: 0 0 20px rgba(0,0,0,0.1);
      max-width: 600px;
      width: 100%;
    }
    h2 {
      margin-bottom: 20px;
      color: #333;
    }
    select, button {
      padding: 10px;
      font-size: 16px;
      width: 100%;
      margin-top: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    .navigation {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
    }
    .navigation button {
      width: 48%;
      background-color: #1976d2;
      color: white;
      border: none;
      cursor: pointer;
    }
    .navigation button:hover {
      background-color: #135ba1;
    }
    .submit-btn {
      margin-top: 20px;
      background-color: #4caf50;
      color: white;
      border: none;
      cursor: pointer;
    }
    .submit-btn:hover {
      background-color: #3b9440;
    }
    .back-menu {
      margin-top: 20px;
      text-align: center;
    }
    .back-menu a {
      text-decoration: none;
      color: #1976d2;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="quiz-container">
    <h2>Matching Quiz</h2>
    <label for="participant">Nama Peserta:</label>
    <select id="participant">
      <option value="">-- Pilih Nama --</option>
      <option value="Andi">Andi</option>
      <option value="Budi">Budi</option>
      <option value="Citra">Citra</option>
      <option value="Dina">Dina</option>
    </select>

    <div id="question"></div>
    
    <div class="navigation">
      <button onclick="prevQuestion()">Sebelumnya</button>
      <button onclick="nextQuestion()">Berikutnya</button>
    </div>

    <button class="submit-btn" onclick="submitAnswers()">Kirim Jawaban</button>

    <div class="back-menu">
      <a href="menu_ujian_inggris.html">← Kembali ke Menu</a>
    </div>
  </div>

  <script>
    const questions = [
      "1. Welcome to Bali! Are you Mrs. Smith from Australia?",
      "2. How was your flight? Did you have any delays?",
      "3. Would you like help with your luggage?",
      "4. Is this your first time visiting Indonesia?",
      "5. Would you prefer to go straight to the hotel or stop for lunch first?",
      "6. The cause: Overcrowding at popular tourist sites.\nThe effect: ......",
      "7. The cause: Strict visa policies for certain countries.\nThe effect: ......",
      "8. The cause: Poor maintenance of historical landmarks.\nThe effect: ......",
      "9. If tourists respected local customs more, …",
      "10. If airlines reduced their prices, …"
    ];

    const options = [
      "A. Yes, it’s my first time. I’m very excited!",
      "B. No, thanks. I can manage it myself.",
      "C. Actually, I’m Ms. Johnson, her assistant.",
      "D. The hotel first, please. I’d like to rest.",
      "E. Yes, but only for 30 minutes due to weather.",
      "F. I’d love to try local food if there’s time.",
      "G. The traffic is heavy at this hour.",
      "H. Fewer international visitors.",
      "I. Increased waste and environmental damage.",
      "J. Higher ticket prices for attractions.",
      "K. Loss of cultural heritage and tourist interest.",
      "L. More tourists choose alternative destinations.",
      "M. … local communities would feel more appreciated.",
      "N. … more people could afford to travel abroad."
    ];

    let currentQuestion = 0;
    const answers = Array(10).fill("");

    function renderQuestion() {
      const questionBox = document.getElementById("question");
      questionBox.innerHTML = `
        <p><strong>${questions[currentQuestion]}</strong></p>
        <label for="answer">Pilih jawaban Anda:</label>
        <select id="answer">
          <option value="">-- Pilih --</option>
          ${options.map(opt => `<option value="${opt.charAt(0)}">${opt}</option>`).join('')}
        </select>
      `;
      document.getElementById("answer").value = answers[currentQuestion];
      document.getElementById("answer").addEventListener("change", function() {
        answers[currentQuestion] = this.value;
      });
    }

    function nextQuestion() {
      if (currentQuestion < questions.length - 1) {
        currentQuestion++;
        renderQuestion();
      }
    }

    function prevQuestion() {
      if (currentQuestion > 0) {
        currentQuestion--;
        renderQuestion();
      }
    }

    function submitAnswers() {
      const participant = document.getElementById("participant").value;
      if (!participant) return alert("Silakan pilih nama peserta.");
      if (answers.includes("")) return alert("Pastikan semua soal sudah dijawab.");

      const answerKey = ["C", "E", "B", "A", "D", "I", "H", "K", "M", "N"];
      let score = 0;
      answers.forEach((ans, i) => {
        if (ans === answerKey[i]) score += 10;
      });

      const formData = {
        participant: participant,
        answers: answers,
        score: score
      };

      fetch('https://script.google.com/macros/s/AKfycbwv7tnHAZ3P9vhs2pKgfkIHQbDzyj3B6YRFO7cTvHtwwy9mfpHZhvcnMpDVR6CGeIMGrQ/exec', {
        method: 'POST',
        body: JSON.stringify(formData),
      })
      .then(res => res.json())
      .then(data => {
        alert("Jawaban berhasil dikirim!");
      })
      .catch(err => alert("Terjadi kesalahan saat mengirim jawaban."));
    }

    // Load the first question
    renderQuestion();
  </script>
</body>
</html>

